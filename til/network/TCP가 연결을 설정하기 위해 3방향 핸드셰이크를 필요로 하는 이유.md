# TCP가 연결을 설정하기 위해 3방향 핸드셰이크를 필요로 하는 이유

통신 당사자들이 합의에 도달하기 위해 == 
소켓, 창 크기, 초기 시퀀스 번호를 초기화하기 위해 == 
서로 합의된 연결을 하기 위해 == 
신뢰성 있는 연결 수립

## 오래된/중복된 초기화(연결) 요청 방지

- 혼잡한 네트워크 속에서 여러 요청을 보내게 된다면, 이게 만료된 연결인지 아닌지 확인하기 어렵다.

- 만약 2방향 핸드셰이크를 하게 될 시 송신자는 중복 요청을 철회할 수 없고, **수신자는 해당 요청을 거절, 수락만 할 수 있어 만료된 요청인지 검증하기 어렵다.** 

### 그래서 답은 3방향 핸드셰이크

3방향 핸드셰이크를 하게 된다면, 송신자가 최종 연결 결정권을 가지게 되는데, 송신자만이 해당 연결이 잘못되는지 판단을 할 수 있는 컨텍스트를 가지고 있다.

## 초기 시퀀스 번호를 얻기 위해

시퀀스 번호는 중복 패킷, 소실된 패킷 검출과 패킷의 순서를 결정하는데의 핵심이다.

초기 시퀀스 번호는 3방향 핸드셰이크에서 초기화되어야한다. 

---

https://datatracker.ietf.org/doc/html/rfc793